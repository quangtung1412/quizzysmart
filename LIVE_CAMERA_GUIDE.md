# ğŸ¥ Live Camera Search - HÆ°á»›ng Dáº«n Chi Tiáº¿t

## ğŸ“– Tá»•ng Quan

**Live Camera Search** lÃ  tÃ­nh nÄƒng má»›i nháº¥t cá»§a Quizzy Smart Premium, cho phÃ©p báº¡n tÃ¬m Ä‘Ã¡p Ã¡n **trá»±c tiáº¿p** qua camera - tÆ°Æ¡ng tá»± nhÆ° tÃ­nh nÄƒng dá»‹ch trá»±c tiáº¿p cá»§a Google Translate!

### âœ¨ Äiá»ƒm Ná»•i Báº­t

- ğŸ¥ **Camera realtime**: KhÃ´ng cáº§n chá»¥p vÃ  save áº£nh
- âš¡ **Káº¿t quáº£ tá»©c thÃ¬**: ÄÃ¡p Ã¡n hiá»ƒn thá»‹ ngay trÃªn mÃ n hÃ¬nh camera
- ğŸ”„ **2 cháº¿ Ä‘á»™ quÃ©t**:
  - **Thá»§ cÃ´ng**: Báº¡n kiá»ƒm soÃ¡t khi nÃ o quÃ©t
  - **Tá»± Ä‘á»™ng**: AI quÃ©t liÃªn tá»¥c má»—i 3 giÃ¢y
- ğŸ“± **Mobile-first**: Tá»‘i Æ°u cho Ä‘iá»‡n thoáº¡i, dÃ¹ng camera sau
- ğŸ¯ **Overlay UI**: Káº¿t quáº£ hiá»ƒn thá»‹ overlay Ä‘áº¹p máº¯t

## ğŸš€ CÃ¡ch Sá»­ Dá»¥ng

### BÆ°á»›c 1ï¸âƒ£: Truy cáº­p tÃ­nh nÄƒng

1. ÄÄƒng nháº­p vÃ o Quizzy Smart
2. Tá»« mÃ n hÃ¬nh chá»n cháº¿ Ä‘á»™, chá»n **"AI Trá»£ LÃ½"** (nÃºt mÃ u vÃ ng)
3. Chá»n **"ğŸ¥ Camera Trá»±c Tiáº¿p"**

### BÆ°á»›c 2ï¸âƒ£: CÃ i Ä‘áº·t

MÃ n hÃ¬nh cÃ i Ä‘áº·t sáº½ hiá»‡n ra vá»›i cÃ¡c tÃ¹y chá»n:

#### A. Chá»n nguá»“n tÃ¬m kiáº¿m
- Tick chá»n má»™t hoáº·c nhiá»u cÆ¡ sá»Ÿ kiáº¿n thá»©c
- CÃ³ thá»ƒ dÃ¹ng nÃºt **"Chá»n táº¥t cáº£"** Ä‘á»ƒ nhanh hÆ¡n
- âš ï¸ Chá»n Ä‘Ãºng nguá»“n chá»©a cÃ¢u há»i Ä‘á»ƒ cÃ³ káº¿t quáº£ tá»‘t

#### B. Chá»n cháº¿ Ä‘á»™ quÃ©t

**Cháº¿ Ä‘á»™ Thá»§ cÃ´ng** (Manual):
- âœ… PhÃ¹ há»£p khi: Muá»‘n kiá»ƒm soÃ¡t chÃ­nh xÃ¡c khi nÃ o tÃ¬m kiáº¿m
- ğŸ’¡ CÃ¡ch dÃ¹ng: HÆ°á»›ng camera â†’ nháº¥n nÃºt trÃ²n lá»›n mÃ u vÃ ng
- â±ï¸ Throttle: Tá»‘i thiá»ƒu 2 giÃ¢y giá»¯a cÃ¡c láº§n quÃ©t

**Cháº¿ Ä‘á»™ Tá»± Ä‘á»™ng** (Auto):
- âœ… PhÃ¹ há»£p khi: Ã”n táº­p nhiá»u cÃ¢u liÃªn tá»¥c, khÃ´ng muá»‘n nháº¥n nÃºt
- ğŸ’¡ CÃ¡ch dÃ¹ng: HÆ°á»›ng camera vÃ  giá»¯ yÃªn, AI tá»± quÃ©t
- â±ï¸ Interval: Tá»± Ä‘á»™ng quÃ©t má»—i 3 giÃ¢y
- ğŸ”„ Hiá»ƒn thá»‹: Indicator "Äang quÃ©t tá»± Ä‘á»™ng..." á»Ÿ dÆ°á»›i mÃ n hÃ¬nh

#### C. Báº¯t Ä‘áº§u
- Nháº¥n nÃºt **"Báº¯t Ä‘áº§u"**
- TrÃ¬nh duyá»‡t sáº½ yÃªu cáº§u quyá»n camera â†’ chá»n **"Allow"**
- Camera sáº½ má»Ÿ, sá»­ dá»¥ng camera sau (facingMode: environment)

### BÆ°á»›c 3ï¸âƒ£: QuÃ©t cÃ¢u há»i

#### Vá»›i cháº¿ Ä‘á»™ Thá»§ cÃ´ng:
1. HÆ°á»›ng camera vÃ o cÃ¢u há»i
2. Äáº£m báº£o toÃ n bá»™ cÃ¢u há»i vÃ  cÃ¡c phÆ°Æ¡ng Ã¡n náº±m trong khung hÃ¬nh
3. Nháº¥n nÃºt trÃ²n lá»›n mÃ u vÃ ng á»Ÿ dÆ°á»›i mÃ n hÃ¬nh
4. Äá»£i 2-5 giÃ¢y Ä‘á»ƒ AI xá»­ lÃ½
5. Káº¿t quáº£ hiá»ƒn thá»‹ overlay á»Ÿ dÆ°á»›i mÃ n hÃ¬nh

#### Vá»›i cháº¿ Ä‘á»™ Tá»± Ä‘á»™ng:
1. HÆ°á»›ng camera vÃ o cÃ¢u há»i
2. Giá»¯ camera á»•n Ä‘á»‹nh (khÃ´ng cáº§n nháº¥n nÃºt)
3. AI tá»± Ä‘á»™ng quÃ©t má»—i 3 giÃ¢y
4. Di chuyá»ƒn Ä‘áº¿n cÃ¢u há»i khÃ¡c Ä‘á»ƒ tiáº¿p tá»¥c
5. Káº¿t quáº£ cáº­p nháº­t realtime

### BÆ°á»›c 4ï¸âƒ£: Xem káº¿t quáº£

Khi tÃ¬m tháº¥y Ä‘Ã¡p Ã¡n, má»™t **overlay mÃ u xanh** sáº½ hiá»ƒn thá»‹ á»Ÿ dÆ°á»›i mÃ n hÃ¬nh vá»›i:

âœ… **Header**: 
- Indicator "TÃ¬m tháº¥y Ä‘Ã¡p Ã¡n!" vá»›i cháº¥m xanh nháº¥p nhÃ¡y
- Badge Ä‘á»™ tin cáº­y (%), vÃ­ dá»¥: "85% khá»›p"

âœ… **Ná»™i dung**:
- CÃ¢u há»i Ä‘Æ°á»£c tÃ¬m tháº¥y
- Danh sÃ¡ch cÃ¡c phÆ°Æ¡ng Ã¡n A, B, C, D
- **ÄÃ¡p Ã¡n Ä‘Ãºng** highlight mÃ u xanh Ä‘áº­m vá»›i dáº¥u âœ“

âœ… **TÆ°Æ¡ng tÃ¡c**:
- CÃ³ thá»ƒ scroll náº¿u ná»™i dung dÃ i
- Di chuyá»ƒn camera Ä‘áº¿n cÃ¢u khÃ¡c Ä‘á»ƒ tÃ¬m tiáº¿p

Náº¿u **khÃ´ng tÃ¬m tháº¥y**, sáº½ hiá»ƒn thá»‹ overlay mÃ u vÃ ng vá»›i gá»£i Ã½:
- "KhÃ´ng tÃ¬m tháº¥y"
- HÆ°á»›ng dáº«n: Di chuyá»ƒn camera, chá»¥p rÃµ hÆ¡n, chá»n Ä‘Ãºng nguá»“n

## ğŸ›ï¸ CÃ¡c Controls

### Trong khi Ä‘ang quÃ©t:

**Header Controls:**
- **NÃºt Back** (â†): ThoÃ¡t camera vÃ  quay láº¡i
- **NÃºt Settings** (âš™ï¸): Má»Ÿ láº¡i báº£ng cÃ i Ä‘áº·t

**Bottom Controls:**
- **Cháº¿ Ä‘á»™ Thá»§ cÃ´ng**: NÃºt trÃ²n lá»›n mÃ u vÃ ng (nháº¥n Ä‘á»ƒ quÃ©t)
- **Cháº¿ Ä‘á»™ Tá»± Ä‘á»™ng**: Indicator "Äang quÃ©t tá»± Ä‘á»™ng..."

**Processing Indicator:**
- Khi Ä‘ang xá»­ lÃ½: Badge "Äang xá»­ lÃ½..." mÃ u vÃ ng á»Ÿ top center

## âš¡ Performance & Optimization

### Throttling
- **Minimum gap**: 2 giÃ¢y giá»¯a cÃ¡c láº§n capture
- **Auto interval**: 3 giÃ¢y má»—i láº§n quÃ©t tá»± Ä‘á»™ng
- NgÄƒn spam requests vÃ  tiáº¿t kiá»‡m API quota

### Camera Settings
- **Resolution**: 1920x1080 (ideal)
- **Facing mode**: environment (camera sau)
- **Auto-play**: enabled
- **Muted**: enabled (khÃ´ng cÃ³ audio)

### Image Processing
- **Format**: JPEG
- **Quality**: 0.8 (80%)
- **Method**: Canvas capture tá»« video stream
- **Base64 encoding**: Tá»± Ä‘á»™ng

## ğŸ”§ Troubleshooting

### Camera khÃ´ng má»Ÿ
- âœ… Kiá»ƒm tra quyá»n camera trong browser settings
- âœ… Äáº£m báº£o khÃ´ng cÃ³ app khÃ¡c Ä‘ang dÃ¹ng camera
- âœ… Reload trang vÃ  thá»­ láº¡i
- âœ… TrÃªn iOS: Cáº§n HTTPS Ä‘á»ƒ truy cáº­p camera

### KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£
- âœ… Chá»n Ä‘Ãºng cÆ¡ sá»Ÿ kiáº¿n thá»©c
- âœ… HÆ°á»›ng camera tháº³ng, khÃ´ng nghiÃªng
- âœ… Äáº£m báº£o Ä‘á»§ Ã¡nh sÃ¡ng, áº£nh rÃµ nÃ©t
- âœ… CÃ¢u há»i pháº£i cÃ³ trong database

### Káº¿t quáº£ bá»‹ lag
- âœ… Káº¿t ná»‘i internet á»•n Ä‘á»‹nh
- âœ… DÃ¹ng cháº¿ Ä‘á»™ Thá»§ cÃ´ng thay vÃ¬ Tá»± Ä‘á»™ng
- âœ… Äá»£i xá»­ lÃ½ xong trÆ°á»›c khi quÃ©t tiáº¿p

### Äá»™ chÃ­nh xÃ¡c tháº¥p
- âœ… Cáº£i thiá»‡n Ã¡nh sÃ¡ng
- âœ… Camera gáº§n hÆ¡n (nhÆ°ng váº«n tháº¥y háº¿t cÃ¢u há»i)
- âœ… Giá»¯ camera á»•n Ä‘á»‹nh khi quÃ©t

## ğŸ†š So SÃ¡nh vá»›i Upload Mode

| TÃ­nh nÄƒng | Live Camera | Upload áº¢nh |
|-----------|-------------|------------|
| Tá»‘c Ä‘á»™ | âš¡ Realtime | ğŸ¢ Pháº£i chá»n áº£nh |
| Tiá»‡n lá»£i | ğŸ¯ Ráº¥t cao | ğŸ“¸ Trung bÃ¬nh |
| LÆ°u áº£nh | âŒ KhÃ´ng | âœ… CÃ³ thá»ƒ |
| QuÃ©t liÃªn tá»¥c | âœ… CÃ³ (auto) | âŒ KhÃ´ng |
| DÃ¹ng khi nÃ o | Ã”n táº­p nhanh | Review ká»¹, lÆ°u trá»¯ |
| Äiá»‡n thoáº¡i | ğŸ“± Tá»‘i Æ°u | ğŸ’» Cáº£ PC & mobile |

## ğŸ’» Technical Details

### Component: `LiveCameraSearch.tsx`

**Dependencies:**
- React hooks: `useState`, `useRef`, `useEffect`, `useCallback`
- MediaDevices API
- Canvas API
- Fetch API

**State Management:**
- Video stream ref
- Canvas ref for capturing
- Search results
- Processing state
- Settings visibility
- Capture mode (auto/manual)

**API Integration:**
- Endpoint: `POST /api/premium/search-by-image`
- Payload: base64 image + knowledge base IDs
- Response: recognized text + matched question

## ğŸ¨ UI/UX Design

### Color Scheme:
- **Primary**: Amber/Yellow gradient (premium feel)
- **Success**: Green (when found)
- **Warning**: Yellow (not found)
- **Processing**: Amber with pulse animation

### Layout:
- **Full screen**: Immersive camera view
- **Overlay controls**: Non-intrusive
- **Bottom result panel**: Easy to read
- **Gradient backdrops**: Better readability

### Animations:
- Pulse indicator khi Ä‘ang quÃ©t
- Smooth transitions
- Scale on button press
- Fade in/out overlays

## ğŸ“Š Analytics & Monitoring

CÃ¡c metrics Ä‘á»ƒ theo dÃµi:
- âœ… Sá»‘ láº§n quÃ©t thÃ nh cÃ´ng
- âœ… Sá»‘ láº§n khÃ´ng tÃ¬m tháº¥y
- âœ… Thá»i gian xá»­ lÃ½ trung bÃ¬nh
- âœ… Tá»· lá»‡ confidence trung bÃ¬nh
- âœ… Cháº¿ Ä‘á»™ Ä‘Æ°á»£c dÃ¹ng nhiá»u nháº¥t (auto vs manual)

## ğŸ” Security & Privacy

- âœ… KhÃ´ng lÆ°u trá»¯ video stream
- âœ… KhÃ´ng lÆ°u áº£nh capture
- âœ… Chá»‰ gá»­i base64 image khi search
- âœ… YÃªu cáº§u authentication
- âœ… Camera stop khi thoÃ¡t screen

## ğŸš€ Future Enhancements

- [ ] OCR cáº£i tiáº¿n vá»›i preprocessing
- [ ] Zoom in/out camera
- [ ] Flashlight control
- [ ] History cá»§a cÃ¡c láº§n quÃ©t
- [ ] Bookmark cÃ¢u há»i
- [ ] Share káº¿t quáº£
- [ ] Offline mode vá»›i cached questions
- [ ] Multi-language support

---

**ğŸ‰ Enjoy Live Camera Search!**

Náº¿u cÃ³ váº¥n Ä‘á», liÃªn há»‡: Pháº¡m Quang TÃ¹ng - Agribank Chi nhÃ¡nh Háº£i DÆ°Æ¡ng
